
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../using-through-terminal/">
      
      
        <link rel="next" href="../../configuration/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Using through a script - tk3u8</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Lato";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#prerequisite" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="tk3u8" class="md-header__button md-logo" aria-label="tk3u8" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            tk3u8
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Using through a script
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Scoofszlo/tk3u8" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    tk3u8
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="tk3u8" class="md-nav__button md-logo" aria-label="tk3u8" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    tk3u8
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Scoofszlo/tk3u8" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    tk3u8
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../installation/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/system-wide-installation-via-uv/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System-wide installation via uv
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/isolated-installation-via-uv/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Isolated installation via uv
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/system-wide-installation-via-pip/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System-wide installation via pip
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../using-through-terminal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using through terminal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Using through a script
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Using through a script
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisite" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisite
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-script" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a script
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#executing-a-script" class="md-nav__link">
    <span class="md-ellipsis">
      Executing a script
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#executing-multiple-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Executing multiple scripts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utilizing-tk3u8-api-for-writing-your-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Utilizing Tk3u8 API for writing your scripts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Utilizing Tk3u8 API for writing your scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#downloading-a-live-stream" class="md-nav__link">
    <span class="md-ellipsis">
      Downloading a live stream
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#choosing-stream-quality" class="md-nav__link">
    <span class="md-ellipsis">
      Choosing stream quality
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wait-until-live-before-downloading" class="md-nav__link">
    <span class="md-ellipsis">
      Wait until live before downloading
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-timeout-for-checking-live-status" class="md-nav__link">
    <span class="md-ellipsis">
      Setting timeout for checking live status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#force-redownloading" class="md-nav__link">
    <span class="md-ellipsis">
      Force redownloading
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-download-location" class="md-nav__link">
    <span class="md-ellipsis">
      Custom download location
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-config-file-location" class="md-nav__link">
    <span class="md-ellipsis">
      Custom config file location
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      Using proxy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downloading-h265-encoded-live-stream" class="md-nav__link">
    <span class="md-ellipsis">
      Downloading H.265 encoded live stream
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Guides
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../issues/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Issues
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisite" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisite
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-script" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a script
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#executing-a-script" class="md-nav__link">
    <span class="md-ellipsis">
      Executing a script
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#executing-multiple-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Executing multiple scripts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utilizing-tk3u8-api-for-writing-your-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Utilizing Tk3u8 API for writing your scripts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Utilizing Tk3u8 API for writing your scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#downloading-a-live-stream" class="md-nav__link">
    <span class="md-ellipsis">
      Downloading a live stream
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#choosing-stream-quality" class="md-nav__link">
    <span class="md-ellipsis">
      Choosing stream quality
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wait-until-live-before-downloading" class="md-nav__link">
    <span class="md-ellipsis">
      Wait until live before downloading
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-timeout-for-checking-live-status" class="md-nav__link">
    <span class="md-ellipsis">
      Setting timeout for checking live status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#force-redownloading" class="md-nav__link">
    <span class="md-ellipsis">
      Force redownloading
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-download-location" class="md-nav__link">
    <span class="md-ellipsis">
      Custom download location
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-config-file-location" class="md-nav__link">
    <span class="md-ellipsis">
      Custom config file location
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      Using proxy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downloading-h265-encoded-live-stream" class="md-nav__link">
    <span class="md-ellipsis">
      Downloading H.265 encoded live stream
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Using through a script</h1>

<p>This section explains how to use the program through scripts, allowing you to give more flexibity and advaned way of downloading a live stream.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This guide is only applicable for Windows users only.</p>
</div>
<h2 id="prerequisite">Prerequisite</h2>
<p>Before everything else, you must install the program via <a href="../../installation/isolated-installation-via-uv/">isolated installation</a>.</p>
<p>To be able to write and edit your scripts, install an IDE of your choice like <b><a href="https://code.visualstudio.com/">Visual Studio</a></b> or <b><a href="https://www.jetbrains.com/pycharm/">PyCharm</a></b>. Text editor like <b><a href="https://notepad-plus-plus.org/">Notepad++</a></b> will work too if you want.</p>
<h2 id="creating-a-script">Creating a script</h2>
<p>In the project directory, create a folder named <code>scripts</code> and create a file named <code>download-foo.py</code>. After that, write a short script where it will download a live stream from a user named <code>foo</code> as an example:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">tk3u8</span><span class="w"> </span><span class="kn">import</span> <span class="n">Tk3u8</span>

<span class="n">username</span> <span class="o">=</span> <span class="s2">&quot;foo&quot;</span>

<span class="n">tk3u8</span> <span class="o">=</span> <span class="n">Tk3u8</span><span class="p">()</span>
<span class="n">tk3u8</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
</code></pre></div>
<p>That's basically how you can write a script.</p>
<p>To simply explain, what this does is that it imports the <code>Tk3u8</code> class (line #1) so that we can use it to do a lot of cool stuff like downloading (line #6). But before we can do a lot of things like downloading, we have to create an object of that class (line #5).</p>
<h2 id="executing-a-script">Executing a script</h2>
<p>To execute the script, open the terminal from the project directory. After that, execute the script from the <code>scripts</code> folder:</p>
<div class="highlight"><pre><span></span><code><span class="go">uv run scripts/download-foo.py</span>
</code></pre></div>
<h2 id="executing-multiple-scripts">Executing multiple scripts</h2>
<p>If you notice, it's still a bit cumbersome to do <code>uv run scripts/download-foo.py</code> every time just to execute a script. If you have multiple scripts for downloading different live streams from different users, it would take a lot of time because you have to execute that command several times.</p>
<p>In order to execute all of these scripts in one go, in your project directory, create a  batch (<code>.bat</code>) file that will execute of all these scripts.</p>
<p>For example, to run these three scripts for downloading a live stream from three different users, write this in a batch file:</p>
<div class="highlight"><pre><span></span><code><span class="p">@</span><span class="k">echo</span> off
<span class="c1">REM This code will run multiple Python scripts, each in its own terminal.</span>

<span class="k">echo</span> Starting Python scripts...

<span class="k">start</span> cmd /k <span class="s2">&quot;uv run scripts/dwnld-john.py&quot;</span>
<span class="k">start</span> cmd /k <span class="s2">&quot;uv run scripts/dwnld-jane.py&quot;</span>
<span class="k">start</span> cmd /k <span class="s2">&quot;uv run scripts/dwnld-chris.py&quot;</span>

<span class="k">echo</span> All scripts launched. Check the new terminal windows.
<span class="k">pause</span>
</code></pre></div>
<p>After that, you can double-click the batch file to run it.</p>
<p>If you have a lot of scripts, instead of writing the <code>start cmd /k "uv run ..."</code> every time, you can do this instead in your batch file:</p>
<div class="highlight"><pre><span></span><code><span class="p">@</span><span class="k">echo</span> off
<span class="c1">REM This code will get all the Python scripts from the scripts folder</span>
<span class="c1">REM and run each script in its own terminal.</span>

<span class="k">set</span> <span class="s2">&quot;SCRIPT_DIR=scripts&quot;</span>

<span class="k">echo</span> Starting Python scripts...

<span class="k">for</span> <span class="se">%%</span>f <span class="k">in</span> <span class="p">(</span><span class="s2">&quot;</span><span class="nv">%SCRIPT_DIR%</span><span class="s2">\*.py&quot;</span><span class="p">)</span> <span class="k">do</span> <span class="p">(</span>
    <span class="k">start</span> cmd /k <span class="s2">&quot;uv run &quot;</span><span class="se">%%</span>f<span class="s2">&quot;&quot;</span>
<span class="p">)</span>
</code></pre></div>
<p>Then, you can now execute the batch file.</p>
<h2 id="utilizing-tk3u8-api-for-writing-your-scripts">Utilizing <code>Tk3u8</code> API for writing your scripts</h2>
<p>This section explains how to use the <code>Tk3u8</code> class to perform essential features like downloading, as well as configuring it based on your needs.</p>
<h3 id="downloading-a-live-stream">Downloading a live stream</h3>
<p>To download a live stream from a user, create a variable and type the username inside it that is enclosed with quotation marks:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">tk3u8</span><span class="w"> </span><span class="kn">import</span> <span class="n">Tk3u8</span>

<span class="n">username</span> <span class="o">=</span> <span class="s2">&quot;foo&quot;</span>

<span class="n">tk3u8</span> <span class="o">=</span> <span class="n">Tk3u8</span><span class="p">()</span>
<span class="n">tk3u8</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
</code></pre></div>
<h3 id="choosing-stream-quality">Choosing stream quality</h3>
<p>To choose a quality to download, add a parameter called <code>quality</code> inside the <code>download()</code>. Values allowed are <code>original</code>, <code>uhd_60</code>, <code>uhd</code>, <code>hd_60</code>, <code>hd</code>, <code>ld</code>, or <code>sd</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">tk3u8</span><span class="w"> </span><span class="kn">import</span> <span class="n">Tk3u8</span>

<span class="n">username</span> <span class="o">=</span> <span class="s2">&quot;foo&quot;</span>

<span class="n">tk3u8</span> <span class="o">=</span> <span class="n">Tk3u8</span><span class="p">()</span>
<span class="n">tk3u8</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="s2">&quot;uhd_60&quot;</span><span class="p">)</span>
</code></pre></div>
<p>As you have noticed from previous example, the program will work fine even if you don't specify the quality. That's because the program handles this automatically, in which it defaults to <code>original</code> value if nothing was specified from the <code>quality</code> parameter.</p>
<h3 id="wait-until-live-before-downloading">Wait until live before downloading</h3>
<p>To wait for the user to go live and you want the program to start downloading as soon as the user goes live, add a <code>wait_until_live</code> parameter with a value of <code>True</code> (case-sensitive):</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">tk3u8</span><span class="w"> </span><span class="kn">import</span> <span class="n">Tk3u8</span>

<span class="n">username</span> <span class="o">=</span> <span class="s2">&quot;foo&quot;</span>

<span class="n">tk3u8</span> <span class="o">=</span> <span class="n">Tk3u8</span><span class="p">()</span>
<span class="n">tk3u8</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">wait_until_live</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h3 id="setting-timeout-for-checking-live-status">Setting timeout for checking live status</h3>
<p>To set the timeout, add a <code>timeout</code> parameter with a value of at least 1:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">tk3u8</span><span class="w"> </span><span class="kn">import</span> <span class="n">Tk3u8</span>

<span class="n">username</span> <span class="o">=</span> <span class="s2">&quot;foo&quot;</span>

<span class="n">tk3u8</span> <span class="o">=</span> <span class="n">Tk3u8</span><span class="p">()</span>
<span class="n">tk3u8</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">wait_until_live</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
</code></pre></div>
<p>When you don't specify a <code>timeout</code> value, it defaults to <code>30</code>.</p>
<p>Remember that this should be used together with the <code>wait_until_live</code> parameter, which must be set to <code>True</code>.</p>
<p>When <code>timeout</code> is specified but <code>wait_until_live</code> is missing, it will do nothing.</p>
<h3 id="force-redownloading">Force redownloading</h3>
<p>If the program happens to stop downloading randomly, you can use this in the parameter of <code>download()</code> to automatically reattempt downloading the live stream as long as the user is still live, so that you don't have to manually rerun the script just to start downloading again.</p>
<p>To use this, set the parameter <code>force_redownload</code> to True:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">tk3u8</span><span class="w"> </span><span class="kn">import</span> <span class="n">Tk3u8</span>

<span class="n">username</span> <span class="o">=</span> <span class="s2">&quot;foo&quot;</span>

<span class="n">tk3u8</span> <span class="o">=</span> <span class="n">Tk3u8</span><span class="p">()</span>
<span class="n">tk3u8</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">force_redownload</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h3 id="custom-download-location">Custom download location</h3>
<p>If you don't want to use the default download location of live streams, you can customize it by specifying the location of folder through <code>downloads_dir</code> parameter upon class instantiation of <code>Tk3u8</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">tk3u8</span><span class="w"> </span><span class="kn">import</span> <span class="n">Tk3u8</span>

<span class="n">username</span> <span class="o">=</span> <span class="s2">&quot;foo&quot;</span>
<span class="n">download_dir</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;C:\path\to\download_dir&quot;</span>

<span class="n">tk3u8</span> <span class="o">=</span> <span class="n">Tk3u8</span><span class="p">(</span><span class="n">downloads_dir</span><span class="o">=</span><span class="n">download_dir</span><span class="p">)</span>
<span class="n">tk3u8</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Renember to put <code>r</code> before the path to ensure that the backslashes are handled properly.</p>
</div>
<h3 id="custom-config-file-location">Custom config file location</h3>
<p>If you want to specify the custom path to config file to use, simply supply the <code>config_file_path</code> parameter with the location of the config file upon class instantiation of <code>Tk3u8</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">tk3u8</span><span class="w"> </span><span class="kn">import</span> <span class="n">Tk3u8</span>

<span class="n">username</span> <span class="o">=</span> <span class="s2">&quot;foo&quot;</span>
<span class="n">config_file_path</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;C:\path\to\config-file.conf&quot;</span>

<span class="n">tk3u8</span> <span class="o">=</span> <span class="n">Tk3u8</span><span class="p">(</span><span class="n">config_file_path</span><span class="o">=</span><span class="n">config_file_path</span><span class="p">)</span>
<span class="n">tk3u8</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Renember to put <code>r</code> before the path to ensure that the backslashes are handled properly.</p>
</div>
<h3 id="using-proxy">Using proxy</h3>
<p>To set the proxy, call the <code>set_proxy()</code> of tk3u8 instance and put the value inside of it enclosed in double quotation marks:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">tk3u8</span><span class="w"> </span><span class="kn">import</span> <span class="n">Tk3u8</span>

<span class="n">username</span> <span class="o">=</span> <span class="s2">&quot;foo&quot;</span>

<span class="n">tk3u8</span> <span class="o">=</span> <span class="n">Tk3u8</span><span class="p">()</span>
<span class="n">tk3u8</span><span class="o">.</span><span class="n">set_proxy</span><span class="p">(</span><span class="s2">&quot;127.0.0.1:8080&quot;</span><span class="p">)</span>  <span class="c1"># Replace this with an actual working proxy</span>
<span class="n">tk3u8</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Remember to put <code>set_proxy()</code> first before the <code>download()</code> because it won't work if you have swapped their positions.</p>
</div>
<h3 id="downloading-h265-encoded-live-stream">Downloading H.265 encoded live stream</h3>
<p>Users can opt to download H.265 (HEVC) encoded streams instead of the default ones (H.264/AVC) for potential file size savings or if one wants slightly better stream quality.</p>
<p>To use this, set the parameter <code>use_h265</code> to True:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">tk3u8</span><span class="w"> </span><span class="kn">import</span> <span class="n">Tk3u8</span>

<span class="n">username</span> <span class="o">=</span> <span class="s2">&quot;foo&quot;</span>

<span class="n">tk3u8</span> <span class="o">=</span> <span class="n">Tk3u8</span><span class="p">()</span>
<span class="n">tk3u8</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">use_h265</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<p>This option may not always work, typically for the <code>original</code> quality, as sometimes H.265 encoded version link that is scraped by the program returns a H.264 version for some reason.</p>
<p>Additionally, for some reason, there is an instance that both video codecs in some streams offer similar file sizes. However, when compared, quality is generally a bit better for H.265 version.</p>
<p>For these reasons, using this option does not guarantee smaller file sizes or the same quality as H.264 ones because it is the source that controls the quality of both video codecs, so I would advise you to compare both to see if there is a file size saving or if there is a quality difference. In that way, you can decide whether to use this option or not.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://pypi.org/project/tk3u8/" target="_blank" rel="noopener" title="pypi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/Scoofszlo/" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.reddit.com/user/Scoofszlo/" target="_blank" rel="noopener" title="www.reddit.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 256C0 114.6 114.6 0 256 0s256 114.6 256 256-114.6 256-256 256H37.1c-13.7 0-20.5-16.5-10.9-26.2L75 437C28.7 390.7 0 326.7 0 256m349.6-102.4c23.6 0 42.7-19.1 42.7-42.7s-19.1-42.7-42.7-42.7c-20.6 0-37.8 14.6-41.8 34-34.5 3.7-61.4 33-61.4 68.4v.2c-37.5 1.6-71.8 12.3-99 29.1-10.1-7.8-22.8-12.5-36.5-12.5-33 0-59.8 26.8-59.8 59.8 0 24 14.1 44.6 34.4 54.1 2 69.4 77.6 125.2 170.6 125.2s168.7-55.9 170.6-125.3c20.2-9.6 34.1-30.2 34.1-54 0-33-26.8-59.8-59.8-59.8-13.7 0-26.3 4.6-36.4 12.4-27.4-17-62.1-27.7-100-29.1v-.2c0-25.4 18.9-46.5 43.4-49.9 4.4 18.8 21.3 32.8 41.5 32.8zm-172.5 93.3c16.7 0 29.5 17.6 28.5 39.3s-13.5 29.6-30.3 29.6-31.4-8.8-30.4-30.5S160.3 247 177 247zm190.1 38.3c1 21.7-13.7 30.5-30.4 30.5s-29.3-7.9-30.3-29.6 11.8-39.3 28.5-39.3 31.2 16.6 32.1 38.3zm-48.1 56.7c-10.3 24.6-34.6 41.9-63 41.9s-52.7-17.3-63-41.9c-1.2-2.9.8-6.2 3.9-6.5 18.4-1.9 38.3-2.9 59.1-2.9s40.7 1 59.1 2.9c3.1.3 5.1 3.6 3.9 6.5"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://x.com/Scoofszlo/" target="_blank" rel="noopener" title="x.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.indexes", "navigation.instant", "navigation.instant.progress"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>